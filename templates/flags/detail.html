{% extends "base.html" %}
{% block title %}{{ flag.nickname }} ã•ã‚“ã®æ——ï½œ{{ event.title }}{% endblock %}

{% block content %}

<!-- ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ± -->
<div class="bg-white rounded-2xl border border-gray-100 p-5 mb-4">
  <p class="text-xs text-gray-400 mb-1">{{ event.category }}</p>
  <h1 class="text-xl font-bold text-gray-900 mb-1">{{ event.title }}</h1>
  <p class="text-sm text-gray-500 leading-relaxed mb-3">{{ event.description }}</p>
  <div class="flex flex-wrap gap-2 text-xs text-gray-500">
    <span>ğŸ“… {{ event.event_date }}</span>
    <span>ğŸ“ {{ event.location }}</span>
  </div>
</div>

<!-- æ——ã‚’ç«‹ã¦ãŸäººã®æƒ…å ± -->
<div class="bg-orange-50 rounded-2xl border border-orange-100 p-5 mb-4">
  <div class="flex items-center gap-3 mb-4">
    <div class="w-10 h-10 bg-orange-200 rounded-full flex items-center justify-center text-lg font-bold text-orange-700">
      {{ flag.nickname[0] }}
    </div>
    <div>
      <p class="font-bold text-gray-900">{{ flag.nickname }}</p>
      <div class="flex gap-2 mt-0.5">
        <span class="text-xs bg-white text-orange-600 border border-orange-200 px-2 py-0.5 rounded-full">{{ flag.anxiety_level }}</span>
        <span class="text-xs bg-white text-orange-600 border border-orange-200 px-2 py-0.5 rounded-full">{{ flag.vibe }}</span>
      </div>
      {% if flag.sns_account %}
      <div class="flex items-center gap-1.5 mt-1.5">
        <span class="text-xs text-gray-400">{{ flag.sns_type }}</span>
        <span class="text-xs font-medium text-gray-700">{{ flag.sns_account }}</span>
      </div>
      {% endif %}
    </div>
  </div>

  <div class="mb-1">
    <p class="text-xs text-orange-600 font-semibold mb-1">è¡ŒããŸã„ç†ç”±ãƒ»æ°—æŒã¡</p>
    <p class="text-sm text-gray-800 leading-relaxed">{{ flag.reason }}</p>
  </div>
</div>

<!-- æ——ã®è©³ç´°æ¡ä»¶ -->
<div class="bg-white rounded-2xl border border-gray-100 p-5 mb-4">
  <h2 class="font-bold text-gray-700 text-sm mb-3">ä¸€ç·’ã«è¡ŒããŸã„äººã®æ¡ä»¶</h2>
  <div class="grid grid-cols-2 gap-3 text-sm">
    <div class="bg-gray-50 rounded-xl p-3">
      <p class="text-xs text-gray-400 mb-0.5">äººæ•°</p>
      <p class="font-semibold text-gray-800">{{ flag.group_size }}</p>
    </div>
    <div class="bg-gray-50 rounded-xl p-3">
      <p class="text-xs text-gray-400 mb-0.5">æ€§åˆ¥</p>
      <p class="font-semibold text-gray-800">{{ flag.gender_pref }}</p>
    </div>
    <div class="bg-gray-50 rounded-xl p-3">
      <p class="text-xs text-gray-400 mb-0.5">å±æ€§</p>
      <p class="font-semibold text-gray-800">{{ flag.member_type }}</p>
    </div>
    <div class="bg-gray-50 rounded-xl p-3">
      <p class="text-xs text-gray-400 mb-0.5">çŠ¶æ…‹</p>
      <p class="font-semibold text-green-700">{{ flag.status }}</p>
    </div>
  </div>

  <div class="mt-3 pt-3 border-t border-gray-100 grid grid-cols-1 gap-2 text-sm">
    <div class="flex items-center gap-2 text-gray-600">
      <span>ğŸ“</span>
      <span><span class="text-gray-400">é›†åˆå ´æ‰€ï¼š</span>{{ flag.meeting_place }}</span>
    </div>
    <div class="flex items-center gap-2 text-gray-600">
      <span>ğŸ•</span>
      <span><span class="text-gray-400">é›†åˆæ—¥æ™‚ï¼š</span>{{ flag.meeting_time }}</span>
    </div>
    <div class="flex items-center gap-2 text-gray-600">
      <span>â°</span>
      <span><span class="text-gray-400">ç· ã‚åˆ‡ã‚Šï¼š</span>{{ flag.deadline }}</span>
    </div>
  </div>
</div>

<!-- æ‰‹ã‚’æŒ™ã’ã‚‹ãƒ•ã‚©ãƒ¼ãƒ  -->
<div class="bg-white rounded-2xl border border-orange-100 p-5">
  <h2 class="font-bold text-gray-900 mb-1">ä¸€ç·’ã«è¡ŒããŸã„ï¼</h2>
  <p class="text-xs text-gray-500 mb-4">
    æ‰‹ã‚’æŒ™ã’ã‚‹ã¨ {{ flag.nickname }} ã•ã‚“ã«é€šçŸ¥ãŒå±Šãã¾ã™ã€‚
    OKã«ãªã£ãŸã‚‰SNSã§ç›´æ¥é€£çµ¡ã‚’å–ã‚Šåˆã£ã¦ãã ã•ã„ã€‚
  </p>

  <form method="post" action="/flags/{{ flag.id }}/raise">
    <div class="grid grid-cols-1 gap-4">

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ  <span class="text-orange-500">*</span></label>
        <input type="text" name="nickname" required placeholder="ä¾‹ï¼šãŸã‚ã†"
               class="w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-300" />
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ <span class="text-orange-500">*</span></label>
        <input type="email" name="email" required placeholder="ä¾‹ï¼štaro@example.com"
               class="w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-300" />
        <p class="text-xs text-gray-400 mt-1">æ‰¿èªé€šçŸ¥ã®é€ä»˜å…ˆã€‚æ——ã‚’ç«‹ã¦ãŸäººã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚</p>
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">ã²ã¨ã“ã¨ <span class="text-gray-400 font-normal">ï¼ˆä»»æ„ï¼‰</span></label>
        <textarea name="message" rows="3" placeholder="ä¾‹ï¼šåŒã˜ãä¸å®‰ã ã‘ã©å‚åŠ ã—ã¦ã¿ãŸã„ã§ã™ï¼"
                  class="w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-300 resize-none"></textarea>
      </div>

      <!-- SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">
          SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ <span class="text-gray-400 font-normal">ï¼ˆä»»æ„ï¼‰</span>
        </label>
        <div class="flex gap-2">
          <select name="sns_type"
                  class="border border-gray-200 rounded-xl px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-300 bg-white shrink-0">
            <option value="">é¸æŠ</option>
            <option value="Twitter/X">Twitter/X</option>
            <option value="Instagram">Instagram</option>
            <option value="Facebook">Facebook</option>
            <option value="ãã®ä»–">ãã®ä»–</option>
          </select>
          <input type="text" name="sns_account" placeholder="@ãƒ¦ãƒ¼ã‚¶ãƒ¼å ã¾ãŸã¯ URL"
                 class="flex-1 min-w-0 border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-orange-300" />
        </div>
        <p class="text-xs text-gray-400 mt-1">æ——ã‚’ç«‹ã¦ãŸäººã ã‘ã«å…±æœ‰ã•ã‚Œã¾ã™ã€‚å®‰å¿ƒã—ã¦ãã ã•ã„ã€‚</p>
      </div>

    </div>

    <button type="submit"
            class="mt-5 w-full bg-orange-500 text-white font-bold py-4 rounded-2xl hover:bg-orange-600 transition-colors text-base">
      æ‰‹ã‚’æŒ™ã’ã‚‹ ğŸ™‹
    </button>
  </form>
</div>

<div class="mt-4 flex items-center justify-between">
  <a href="javascript:history.back()" class="text-sm text-gray-400 hover:text-orange-500 transition-colors">â† ä¸€è¦§ã¸æˆ»ã‚‹</a>
  <a href="/flags/{{ flag.id }}/manage" class="text-xs text-gray-300 hover:text-gray-500 transition-colors">æ——ã‚’ç«‹ã¦ãŸæ–¹ã¯ã“ã¡ã‚‰</a>
</div>

{% endblock %}
