{% extends "base.html" %}
{% block title %}æ——ã®ç®¡ç†ï½œ{{ event.title }}{% endblock %}

{% block content %}

<!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
<div class="mb-6">
  <p class="text-xs text-green-600 font-medium mb-1">æ——ã®ç®¡ç†ãƒšãƒ¼ã‚¸</p>
  <h1 class="text-xl font-bold text-gray-900">æ‰‹ã‚’æŒ™ã’ã¦ãã‚ŒãŸäºº</h1>
  <p class="text-xs text-gray-400 mt-1">ã“ã®ãƒšãƒ¼ã‚¸ã¯ã‚ãªãŸï¼ˆæ——ã‚’ç«‹ã¦ãŸäººï¼‰ã ã‘ãŒç¢ºèªã™ã‚‹ãƒšãƒ¼ã‚¸ã§ã™ã€‚</p>
</div>

<!-- æ——ã®ã‚µãƒãƒªãƒ¼ -->
<div class="bg-green-50 rounded-xl border border-green-100 p-4 mb-6 flex items-center gap-3">
  <span class="text-xl">
    {% if event.category == "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢" %}ğŸŒ±
    {% elif event.category == "ç¥­ã‚Šãƒ»åœ°åŸŸè¡Œäº‹" %}ğŸ†
    {% else %}ğŸ› ï¸
    {% endif %}
  </span>
  <div>
    <p class="font-bold text-gray-800 text-sm">{{ event.title }}</p>
    <p class="text-xs text-gray-500">{{ event.event_date }} ãƒ» ç· ã‚åˆ‡ã‚Š {{ flag.deadline }}</p>
  </div>
</div>

{% if raised_hands %}
  <div class="grid grid-cols-1 gap-4">
    {% for person in raised_hands %}
    <div class="bg-white rounded-2xl border border-gray-100 p-5">

      <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± -->
      <div class="flex items-center justify-between gap-3 mb-3">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-lg font-bold text-gray-600">
            {{ person.nickname[0] }}
          </div>
          <div>
            <p class="font-bold text-gray-900">{{ person.nickname }}</p>
            <p class="text-xs text-gray-400">{{ person.created_at }} ã«æ‰‹ã‚’æŒ™ã’ã¾ã—ãŸ</p>
          </div>
        </div>
        <span class="text-xs bg-yellow-50 text-yellow-700 border border-yellow-200 px-2 py-1 rounded-full font-medium">æ¤œè¨ä¸­</span>
      </div>

      <!-- ã²ã¨ã“ã¨ -->
      {% if person.message %}
      <div class="bg-gray-50 rounded-xl p-3 mb-3">
        <p class="text-xs text-gray-400 mb-1">ã²ã¨ã“ã¨</p>
        <p class="text-sm text-gray-700 leading-relaxed">{{ person.message }}</p>
      </div>
      {% endif %}

      <!-- SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆãƒ¡ã‚¤ãƒ³ã®æƒ…å ±ï¼‰ -->
      {% if person.sns_account %}
      <div class="bg-blue-50 rounded-xl border border-blue-100 p-3 mb-4">
        <p class="text-xs text-blue-600 font-semibold mb-1">
          SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆ{{ person.sns_type }}ï¼‰
        </p>
        <p class="text-sm font-bold text-blue-800">{{ person.sns_account }}</p>
        <p class="text-xs text-blue-400 mt-1">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ã€ä¸€ç·’ã«è¡Œãã‹æ±ºã‚ã¦ãã ã•ã„ã€‚</p>
      </div>
      {% else %}
      <div class="bg-gray-50 rounded-xl p-3 mb-4">
        <p class="text-xs text-gray-400">SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ç™»éŒ²ãªã—</p>
      </div>
      {% endif %}

      <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="grid grid-cols-2 gap-2">
        <button type="button"
                onclick="alert('ãƒ¢ãƒƒã‚¯ï¼šæ‰¿èªã—ã¾ã—ãŸï¼ˆãƒ¡ãƒ¼ãƒ«ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“ï¼‰')"
                class="bg-green-600 text-white text-sm font-bold py-2.5 rounded-xl hover:bg-green-700 transition-colors">
          ä¸€ç·’ã«è¡Œã âœ“
        </button>
        <button type="button"
                onclick="alert('ãƒ¢ãƒƒã‚¯ï¼šè¦‹é€ã‚Šã¾ã—ãŸï¼ˆãƒ¡ãƒ¼ãƒ«ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“ï¼‰')"
                class="bg-gray-100 text-gray-600 text-sm font-bold py-2.5 rounded-xl hover:bg-gray-200 transition-colors">
          ä»Šå›ã¯è¦‹é€ã‚‹
        </button>
      </div>

    </div>
    {% endfor %}
  </div>

{% else %}
  <!-- æ‰‹ãŒæŒ™ãŒã£ã¦ã„ãªã„ -->
  <div class="bg-white rounded-2xl border border-gray-100 p-8 text-center">
    <div class="text-4xl mb-3">â³</div>
    <p class="font-bold text-gray-700 mb-2">ã¾ã æ‰‹ãŒæŒ™ãŒã£ã¦ã„ã¾ã›ã‚“</p>
    <p class="text-sm text-gray-500 leading-relaxed">
      å‚åŠ å¸Œæœ›è€…ãŒç¾ã‚ŒãŸã‚‰ã“ã¡ã‚‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>
      ç· ã‚åˆ‡ã‚Šã¯ {{ flag.deadline }} ã§ã™ã€‚
    </p>
  </div>
{% endif %}

<!-- æ³¨æ„æ›¸ã -->
<div class="mt-6 bg-amber-50 rounded-xl border border-amber-100 p-4">
  <p class="text-xs text-amber-700 leading-relaxed">
    <span class="font-semibold">SNSæƒ…å ±ã®å–ã‚Šæ‰±ã„ï¼š</span>
    è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹SNSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯æ‰‹ã‚’æŒ™ã’ãŸäººãŒè‡ªåˆ†ã§å…¥åŠ›ã—ãŸæƒ…å ±ã§ã™ã€‚
    ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ã€ä¸€ç·’ã«è¡Œãã‹ã©ã†ã‹åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚
    æ‰¿èªå¾Œã®é€£çµ¡ã¯SNSã‚’é€šã˜ã¦ç›´æ¥è¡Œã£ã¦ãã ã•ã„ã€‚
  </p>
</div>

<div class="mt-4 text-center">
  <a href="/flags/{{ flag.id }}" class="text-sm text-gray-400 hover:text-green-600 transition-colors">â† æ——ã®è©³ç´°ã«æˆ»ã‚‹</a>
</div>

{% endblock %}
